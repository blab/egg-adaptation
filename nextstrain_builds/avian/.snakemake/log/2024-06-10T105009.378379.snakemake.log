Building DAG of jobs...
Using shell: /Users/katekistler/.nextstrain/runtimes/conda/env/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
align                    1
all                      1
ancestral                1
export                   1
export_w_outgroup        1
filter                   1
include_outgroup         1
parse                    1
parse_ncbi_fasta         1
prune_outgroup           1
refine                   1
translate                1
tree                     1
total                   13

Select jobs to execute...

[Mon Jun 10 10:50:10 2024]
rule parse_ncbi_fasta:
    input: data/raw_avian_fluA_sequences.fasta, data/general-geolocation-rules.tsv
    output: data/H1_ncbi_sequences.fasta
    jobid: 9
    reason: Missing output files: data/H1_ncbi_sequences.fasta
    wildcards: ha_type=H1
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Mon Jun 10 10:50:22 2024]
Finished job 9.
1 of 13 steps (8%) done
Select jobs to execute...

[Mon Jun 10 10:50:22 2024]
rule include_outgroup:
    input: data/H1_ncbi_sequences.fasta
    output: results/H1/sequences_w_outgroup.fasta, config/H1/include_strains.txt
    jobid: 8
    reason: Missing output files: results/H1/sequences_w_outgroup.fasta; Input files updated by another job: data/H1_ncbi_sequences.fasta
    wildcards: ha_type=H1
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Mon Jun 10 10:50:23 2024]
Finished job 8.
2 of 13 steps (15%) done
Select jobs to execute...

[Mon Jun 10 10:50:23 2024]
Job 7: Parsing fasta into sequences and metadata
Reason: Missing output files: results/H1/metadata.tsv, results/H1/sequences.fasta; Input files updated by another job: results/H1/sequences_w_outgroup.fasta

[Mon Jun 10 10:50:24 2024]
Finished job 7.
3 of 13 steps (23%) done
Select jobs to execute...

[Mon Jun 10 10:50:24 2024]
Job 6: 
        Filtering to
          - 50 sequence(s) per year
          - excluding strains in config/dropped_strains_ha.txt
          - only HA sequences
          - excluding strains prior to 1950
        
Reason: Missing output files: results/H1/filtered.fasta; Input files updated by another job: config/H1/include_strains.txt, results/H1/metadata.tsv, results/H1/sequences.fasta

[Mon Jun 10 10:50:26 2024]
Finished job 6.
4 of 13 steps (31%) done
Select jobs to execute...

[Mon Jun 10 10:50:26 2024]
Job 5: 
        Aligning sequences to config/H1/reference_H1.gb
          - filling gaps with N
        
Reason: Missing output files: results/H1/aligned.fasta; Input files updated by another job: results/H1/filtered.fasta

[Mon Jun 10 10:51:08 2024]
Finished job 5.
5 of 13 steps (38%) done
Select jobs to execute...

[Mon Jun 10 10:51:08 2024]
Job 4: Building tree
Reason: Missing output files: results/H1/tree-raw.nwk; Input files updated by another job: results/H1/aligned.fasta

[Mon Jun 10 10:51:20 2024]
Finished job 4.
6 of 13 steps (46%) done
Select jobs to execute...

[Mon Jun 10 10:51:20 2024]
Job 3: 
        Refining tree
          - estimate timetree
          - use const coalescent timescale
          - estimate marginal node dates
        
Reason: Missing output files: results/H1/branch-lengths.json, results/H1/tree.nwk; Input files updated by another job: results/H1/metadata.tsv, results/H1/tree-raw.nwk, results/H1/aligned.fasta

[Mon Jun 10 10:55:05 2024]
Finished job 3.
7 of 13 steps (54%) done
Select jobs to execute...

[Mon Jun 10 10:55:05 2024]
Job 11: Exporting data files for for auspice
Reason: Missing output files: auspice/H1_w_outgroup.json; Input files updated by another job: results/H1/branch-lengths.json, results/H1/metadata.tsv, results/H1/tree.nwk

[Mon Jun 10 10:55:07 2024]
Finished job 11.
8 of 13 steps (62%) done
Select jobs to execute...

[Mon Jun 10 10:55:07 2024]
Job 2: Pruning outgroup from tree
Reason: Missing output files: results/H1/tree_pruned.nwk; Input files updated by another job: auspice/H1_w_outgroup.json, results/H1/tree.nwk

[Mon Jun 10 10:55:09 2024]
Finished job 2.
9 of 13 steps (69%) done
Select jobs to execute...

[Mon Jun 10 10:55:09 2024]
Job 12: Reconstructing ancestral sequences and mutations
Reason: Missing output files: results/H1/nt-muts.json; Input files updated by another job: results/H1/tree_pruned.nwk, results/H1/aligned.fasta

[Mon Jun 10 10:55:14 2024]
Finished job 12.
10 of 13 steps (77%) done
Select jobs to execute...

[Mon Jun 10 10:55:14 2024]
Job 13: Translating amino acid sequences
Reason: Missing output files: results/H1/aa-muts.json; Input files updated by another job: results/H1/tree_pruned.nwk, results/H1/nt-muts.json

[Mon Jun 10 10:55:16 2024]
Finished job 13.
11 of 13 steps (85%) done
Select jobs to execute...

[Mon Jun 10 10:55:16 2024]
Job 1: Exporting data files for auspice, for the pruned tree
Reason: Missing output files: auspice/H1.json; Input files updated by another job: results/H1/aa-muts.json, results/H1/tree_pruned.nwk, results/H1/metadata.tsv, results/H1/nt-muts.json, results/H1/branch-lengths.json

[Mon Jun 10 10:55:18 2024]
Finished job 1.
12 of 13 steps (92%) done
Select jobs to execute...

[Mon Jun 10 10:55:18 2024]
localrule all:
    input: auspice/H1.json
    jobid: 0
    reason: Input files updated by another job: auspice/H1.json
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Mon Jun 10 10:55:18 2024]
Finished job 0.
13 of 13 steps (100%) done
Complete log: .snakemake/log/2024-06-10T105009.378379.snakemake.log
