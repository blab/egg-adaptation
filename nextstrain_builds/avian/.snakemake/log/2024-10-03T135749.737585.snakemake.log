Building DAG of jobs...
Using shell: /Users/katekistler/.nextstrain/runtimes/conda/env/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
align                    1
all                      1
ancestral                1
export                   1
export_w_outgroup        1
filter                   1
include_outgroup         1
parse                    1
prune_outgroup           1
refine                   1
translate                1
tree                     1
total                   12

Select jobs to execute...

[Thu Oct  3 13:57:50 2024]
rule include_outgroup:
    input: data/H2_ncbi_sequences.fasta
    output: results/H2/sequences_w_outgroup.fasta, config/H2/include_strains.txt
    jobid: 8
    reason: Missing output files: results/H2/sequences_w_outgroup.fasta; Code has changed since last execution
    wildcards: ha_type=H2
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Thu Oct  3 13:57:51 2024]
Finished job 8.
1 of 12 steps (8%) done
Select jobs to execute...

[Thu Oct  3 13:57:51 2024]
Job 7: Parsing fasta into sequences and metadata
Reason: Missing output files: results/H2/sequences.fasta, results/H2/metadata.tsv; Input files updated by another job: results/H2/sequences_w_outgroup.fasta

[Thu Oct  3 13:57:55 2024]
Finished job 7.
2 of 12 steps (17%) done
Select jobs to execute...

[Thu Oct  3 13:57:55 2024]
Job 6: 
        Filtering to
          - 50 sequence(s) per year
          - excluding strains in config/dropped_strains_ha.txt
          - only HA sequences
          - excluding strains prior to 1950
        
Reason: Missing output files: results/H2/filtered.fasta; Input files updated by another job: config/H2/include_strains.txt, results/H2/sequences.fasta, results/H2/metadata.tsv

[Thu Oct  3 13:57:56 2024]
Finished job 6.
3 of 12 steps (25%) done
Select jobs to execute...

[Thu Oct  3 13:57:56 2024]
Job 5: 
        Aligning sequences to config/H2/reference_H2.gb
          - filling gaps with N
        
Reason: Missing output files: results/H2/aligned.fasta; Input files updated by another job: results/H2/filtered.fasta

[Thu Oct  3 13:58:35 2024]
Finished job 5.
4 of 12 steps (33%) done
Select jobs to execute...

[Thu Oct  3 13:58:35 2024]
Job 4: Building tree
Reason: Missing output files: results/H2/tree-raw.nwk; Input files updated by another job: results/H2/aligned.fasta

[Thu Oct  3 13:58:45 2024]
Finished job 4.
5 of 12 steps (42%) done
Select jobs to execute...

[Thu Oct  3 13:58:45 2024]
Job 3: 
        Refining tree
          - estimate timetree
          - use const coalescent timescale
          - estimate marginal node dates
        
Reason: Missing output files: results/H2/branch-lengths.json, results/H2/tree.nwk; Input files updated by another job: results/H2/tree-raw.nwk, results/H2/aligned.fasta, results/H2/metadata.tsv

[Thu Oct  3 14:01:36 2024]
Finished job 3.
6 of 12 steps (50%) done
Select jobs to execute...

[Thu Oct  3 14:01:36 2024]
Job 11: Exporting data files for for auspice
Reason: Missing output files: auspice/H2_w_outgroup.json; Input files updated by another job: results/H2/branch-lengths.json, results/H2/tree.nwk, results/H2/metadata.tsv

[Thu Oct  3 14:01:38 2024]
Finished job 11.
7 of 12 steps (58%) done
Select jobs to execute...

[Thu Oct  3 14:01:38 2024]
Job 2: Pruning outgroup from tree
Reason: Missing output files: results/H2/tree_pruned.nwk; Input files updated by another job: results/H2/tree.nwk, auspice/H2_w_outgroup.json

[Thu Oct  3 14:01:39 2024]
Finished job 2.
8 of 12 steps (67%) done
Select jobs to execute...

[Thu Oct  3 14:01:39 2024]
Job 12: Reconstructing ancestral sequences and mutations
Reason: Missing output files: results/H2/nt-muts.json; Input files updated by another job: results/H2/aligned.fasta, results/H2/tree_pruned.nwk

[Thu Oct  3 14:01:43 2024]
Finished job 12.
9 of 12 steps (75%) done
Select jobs to execute...

[Thu Oct  3 14:01:43 2024]
Job 13: Translating amino acid sequences
Reason: Missing output files: results/H2/aa-muts.json; Input files updated by another job: results/H2/nt-muts.json, results/H2/tree_pruned.nwk

[Thu Oct  3 14:01:44 2024]
Finished job 13.
10 of 12 steps (83%) done
Select jobs to execute...

[Thu Oct  3 14:01:44 2024]
Job 1: Exporting data files for auspice, for the pruned tree
Reason: Missing output files: auspice/H2.json; Input files updated by another job: results/H2/tree_pruned.nwk, results/H2/metadata.tsv, results/H2/branch-lengths.json, results/H2/aa-muts.json, results/H2/nt-muts.json

[Thu Oct  3 14:01:46 2024]
Finished job 1.
11 of 12 steps (92%) done
Select jobs to execute...

[Thu Oct  3 14:01:46 2024]
localrule all:
    input: auspice/H2.json
    jobid: 0
    reason: Input files updated by another job: auspice/H2.json
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Thu Oct  3 14:01:46 2024]
Finished job 0.
12 of 12 steps (100%) done
Complete log: .snakemake/log/2024-10-03T135749.737585.snakemake.log
