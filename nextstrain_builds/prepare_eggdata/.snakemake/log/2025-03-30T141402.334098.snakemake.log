Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
all                      1
combine_metadata         1
combine_sequences        1
total                    3

Select jobs to execute...

[Sun Mar 30 14:14:03 2025]
rule combine_metadata:
    input: parsed_data/h3n2/ha/egg_metadata.tsv, parsed_data/h3n2/ha/subsampled-background-metadata.tsv
    output: data/h3n2/ha/metadata.tsv
    jobid: 8
    reason: Missing output files: data/h3n2/ha/metadata.tsv
    wildcards: lineage=h3n2, segment=ha
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T


[Sun Mar 30 14:14:03 2025]
rule combine_sequences:
    input: parsed_data/h3n2/ha/egg_sequences.fasta, parsed_data/h3n2/ha/subsampled-background-sequences.fasta
    output: data/h3n2/ha/sequences.fasta
    jobid: 9
    reason: Missing output files: data/h3n2/ha/sequences.fasta
    wildcards: lineage=h3n2, segment=ha
    resources: tmpdir=/var/folders/g_/6938g_6s199gxxswt2nf7w500000gn/T

[Sun Mar 30 14:14:03 2025]
Finished job 9.
1 of 3 steps (33%) done
[Sun Mar 30 14:14:03 2025]
Error in rule combine_metadata:
    jobid: 8
    input: parsed_data/h3n2/ha/egg_metadata.tsv, parsed_data/h3n2/ha/subsampled-background-metadata.tsv
    output: data/h3n2/ha/metadata.tsv
    shell:
        
        csvtk concat parsed_data/h3n2/ha/egg_metadata.tsv parsed_data/h3n2/ha/subsampled-background-metadata.tsv > data/h3n2/ha/metadata.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job combine_metadata since they might be corrupted:
data/h3n2/ha/metadata.tsv
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-03-30T141402.334098.snakemake.log
